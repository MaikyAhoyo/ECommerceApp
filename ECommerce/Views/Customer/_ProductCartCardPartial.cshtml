<div class="grid grid-cols-[80px_1fr] md:grid-cols-[100px_1fr_120px_120px_120px_50px] gap-6 items-center py-6 border-b border-gray-100 last:border-b-0 group" data-item-id="@Model.Id">
    <div class="w-20 h-20 md:w-24 md:h-24 bg-gray-50 rounded-xl overflow-hidden flex items-center justify-center border border-gray-100">
        @if (!string.IsNullOrEmpty(Model.ProductImageUrl))
        {
            <img src="@Model.ProductImageUrl" alt="@Model.ProductName" class="w-full h-full object-contain p-1">
        }
        else
        {
            <i class="ph ph-image text-gray-300 text-3xl"></i>
        }
    </div>

    <div>
        <h5 class="font-playfair font-bold text-primary text-lg mb-1 leading-tight">
            <a asp-controller="Customer" asp-action="ProductDetails" asp-route-id="@Model.ProductId" class="hover:text-gold transition-colors">
                @Model.ProductName
            </a>
        </h5>
        <p class="text-sm text-gray-500 flex items-center gap-2">
            <span class="w-2 h-2 rounded-full bg-gold"></span>
            @Model.Metal &bull; @Model.Purity
        </p>

        <div class="flex justify-between items-center mt-4 md:hidden">
            <span class="text-gold font-bold text-lg">$@Model.Subtotal.ToString("N2")</span>

            <div class="flex items-center gap-3">
                <div class="flex items-center bg-gray-50 rounded-full px-2 border border-gray-200 h-8">
                    <button type="button" class="w-6 flex justify-center text-gray-500 hover:text-primary" onclick="updateQuantity(@Model.Id, @Model.Quantity - 1)">-</button>
                    <span class="text-sm font-bold w-6 text-center">@Model.Quantity</span>
                    <button type="button" class="w-6 flex justify-center text-gray-500 hover:text-primary" onclick="updateQuantity(@Model.Id, @Model.Quantity + 1)">+</button>
                </div>
                <button type="button" class="text-gray-400 hover:text-red-500" onclick="removeItem(@Model.Id)">
                    <i class="ph-fill ph-trash text-xl"></i>
                </button>
            </div>
        </div>
    </div>

    <div class="hidden md:flex justify-center">
        <div class="flex items-center bg-gray-50 rounded-full p-2 border border-gray-200">
            @if (Model.Quantity <= 1)
            {
                <button type="button" class="w-6 flex justify-center text-gray-500 hover:text-primary cursor-not-allowed" disabled">
                    <i class="ph ph-minus"></i>
                </button>
            }
            else
            {
                <button type="button" class="w-6 flex justify-center text-gray-500 hover:text-primary transition" onclick="updateQuantity(@Model.Id, @Model.Quantity - 1)">
                    <i class="ph ph-minus"></i>
                </button>
            }
            <span class="text-sm font-bold w-6 text-center">@Model.Quantity</span>
            <button type="button" class="w-6 flex justify-center text-gray-500 hover:text-primary" onclick="updateQuantity(@Model.Id, @Model.Quantity + 1)">
                <i class="ph ph-plus"></i>
            </button>
        </div>
    </div>

    <div class="hidden md:block text-center text-gray-500 font-medium text-sm">
        $@Model.UnitPrice.ToString("N2")
    </div>

    <div class="hidden md:block text-center text-gold font-bold text-lg">
        $@Model.Subtotal.ToString("N2")
    </div>

    <div class="hidden md:flex justify-end">
        <button type="button" class="w-10 h-10 rounded-full bg-white hover:bg-red-50 text-gray-400 hover:text-red-500 flex items-center justify-center transition-colors shadow-sm border border-gray-100" onclick="removeItem(@Model.Id)" title="Remove Item">
            <i class="ph-fill ph-trash text-lg"></i>
        </button>
    </div>
</div>
